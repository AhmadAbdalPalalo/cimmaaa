<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Ucapan Ulang Tahun Interaktif</title>
    <style>
      :root {
        --bg: #0f1724;
        --card: #0b1220;
        --accent: #ff6b81;
        --muted: #b7c0cd;
      }
      html,
      body {
        height: 100%;
        margin: 0;
        font-family: Inter, ui-sans-serif, system-ui, Arial;
      }
      body {
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(180deg, #061025 0%, #07112a 60%);
        color: #e6eef8;
      }
      .card {
        width: min(820px, 95%);
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.03),
          rgba(255, 255, 255, 0.02)
        );
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(2, 6, 23, 0.7);
        padding: 28px;
        position: relative;
        overflow: hidden;
      }
      .top {
        display: flex;
        gap: 16px;
        align-items: center;
      }
      .avatar {
        width: 96px;
        height: 96px;
        border-radius: 16px;
        background: linear-gradient(135deg, #ffecd2, #fcb69f);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        color: #3a1b00;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.4);
      }
      h1 {
        margin: 0;
        font-size: 28px;
        letter-spacing: 0.6px;
      }
      p.lebay {
        margin-top: 14px;
        margin-bottom: 0;
        line-height: 1.6;
        font-size: 16px;
      }
      .buttons {
        display: flex;
        gap: 12px;
        margin-top: 18px;
        justify-content: center;
      }
      .btn {
        padding: 10px 18px;
        border-radius: 12px;
        border: 0;
        cursor: pointer;
        font-weight: 700;
        backdrop-filter: blur(6px);
      }
      .btn-primary {
        background: linear-gradient(90deg, var(--accent), #ffa8c5);
        color: #2b0215;
        box-shadow: 0 6px 18px rgba(255, 107, 129, 0.18);
      }
      .btn-ghost {
        background: transparent;
        border: 1px solid rgba(255, 255, 255, 0.06);
        color: var(--muted);
      }
      .center-row {
        display: flex;
        justify-content: center;
      }
      .confetti-canvas {
        position: absolute;
        inset: 0;
        pointer-events: none;
      }
      .cake {
        width: 120px;
        height: 120px;
        margin-left: auto;
      }
      .footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 18px;
        color: var(--muted);
        font-size: 13px;
      }
      .big-emoji {
        font-size: 42px;
        margin-left: 6px;
      }
      /* small sparkle */
      .sparkle {
        position: absolute;
        center: 18px;
        top: 12px;
        font-size: 12px;
        padding: 6px 8px;
        border-radius: 999px;
        background: linear-gradient(90deg, #fff4, #ffffff05);
        color: #ffd1e0;
        font-weight: 700;
      }
      /* responsive */
      @media (max-width: 560px) {
        .top {
          flex-direction: column;
          align-items: flex-start;
        }
        .cake {
          margin: 8px 0 0 0;
        }
      }
    </style>
  </head>
  <body>
    <div
      class="card"
      role="region"
      aria-label="Ucapan Ulang Tahun Interaktif untuk pacar"
    >
      <canvas class="confetti-canvas" id="confetti"></canvas>

      <div class="top">
        <div>
          <div class="avatar" id="avatar">A💖</div>
        </div>
        <div style="flex: 1">
          <h1 id="title">HAPPIE BIRTHDAY, CINTAAKUUU!! 🎉</h1>
          <div class="sparkle">Hari Spesial ✨</div>
          <p class="lebay" id="p1">
            HAPPIEEE BIRTHDAYYYYY pacarkuuu yang paling gemesin di seluruh jagat
            raya dan galaksi Bimasaktiii~!!! hari ini tuh spesial banget loh,
            bahkan matahari aja kayaknya bersinar lebih terang cuma buat liat
            kamu tambah tua *eh maksudnya tambah dewasa* 😝💕. Aku tuh udah
            latihan ngucapin ini dari semalam, biar pas ngomong “selamat ulang
            tahun” suaraku terdengar kayak soundtrack drama Korea 😭💞
          </p>
          <p class="lebay" id="p2">
            Semoga semua yang kamu pengenin tahun ini terkabul satu per satu,
            mulai dari mimpi besar sampai hal-hal receh kayak “mau makan bakso
            tapi gratis” 😋🍜. Aku doain kamu makin sabar (terutama sabar
            ngadepin aku yang suka drama kecil-kecilan wkwk), makin lucu, makin
            sayang aku, dan pastinya makin glowing tanpa skincare karena efek
            dicintai aku 😎💘
          </p>
          <p class="lebay" id="p3">
            Pokoknya hari ini kamu harus bahagia SEHARI PENUH, no sedih-sedihan,
            no bete-betean! Aku bakal jadi orang pertama yang bilang: kamu tuh
            kayak wifi — karena aku nggak bisa hidup tanpa sinyal cintamu 😭💞.
            Jadi selamat ulang tahun, cintaku yang paling absurd tapi paling aku
            sayang! Semoga tahun ini kita makin kocak, makin romantis, dan makin
            barengan terus sampai baterai HP aku habis 😝🔋💑
          </p>

          <div class="buttons" id="actionButtons">
            <button class="btn btn-primary" id="partyBtn">pencet ii 🎊</button>
            <button class="btn btn-ghost" id="songBtn">ada lagunya nee 🎵</button>
          </div>
        </div>
        <div class="cake" aria-hidden="true">
          <!-- small cake SVG -->
          <svg
            viewBox="0 0 64 64"
            width="120"
            height="120"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g fill="none" fill-rule="evenodd">
              <rect x="8" y="28" width="48" height="20" rx="3" fill="#ffdede" />
              <rect
                x="12"
                y="20"
                width="40"
                height="12"
                rx="3"
                fill="#fff1f3"
              />
              <path d="M20 20c0-3 3-6 6-6s6 3 6 6" fill="#ff9fb5" />
              <rect x="22" y="6" width="4" height="12" rx="2" fill="#ffd76a" />
              <circle cx="24" cy="6" r="1.5" fill="#fff" />
            </g>
          </svg>
        </div>
      </div>

      <div class="footer">
        <div>I LOVE YOUUUU SOOOOOOOOOO MUCCCHHH</div>
        <div>Rajin rajin kii makannn</div>
      </div>
    </div>

    <script>
      // Center the two buttons (explicitly) - accessible and responsive
      const buttons = document.getElementById("actionButtons");
      buttons.style.justifyContent = "center";

      // Simple confetti using canvas
      const canvas = document.getElementById("confetti");
      const ctx = canvas.getContext("2d");
      let W,
        H,
        pieces = [];
      function resize() {
        canvas.width = W = canvas.clientWidth || window.innerWidth;
        canvas.height = H = canvas.clientHeight || window.innerHeight;
      }
      window.addEventListener("resize", resize);
      resize();

      function random(min, max) {
        return Math.random() * (max - min) + min;
      }
      function spawnConfetti(num) {
        for (let i = 0; i < num; i++) {
          pieces.push({
            x: random(0, W),
            y: random(-H, 0),
            size: random(6, 14),
            tilt: random(-0.3, 0.3),
            speed: random(1, 4),
            color: ["#ff6b81", "#ffd76a", "#9df0ff", "#f8b4ff"][
              Math.floor(random(0, 4))
            ],
            rot: random(0, Math.PI * 2),
            rotSpeed: random(-0.1, 0.1),
          });
        }
      }
      function update() {
        ctx.clearRect(0, 0, W, H);
        for (let i = pieces.length - 1; i >= 0; i--) {
          const p = pieces[i];
          p.x += Math.sin(p.rot) * p.tilt + Math.cos(p.rot) * 0.3;
          p.y += p.speed;
          p.rot += p.rotSpeed;
          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.rot);
          ctx.fillStyle = p.color;
          ctx.fillRect(-p.size / 2, -p.size / 2, p.size, p.size * 0.6);
          ctx.restore();
          if (p.y > H + 30) pieces.splice(i, 1);
        }
        requestAnimationFrame(update);
      }
      update();

      // Play a simple melody using WebAudio
      const AudioCtx = window.AudioContext || window.webkitAudioContext;
      let audioCtx = null;
      function playMelody() {
        if (!AudioCtx) return alert("Audio tidak didukung di browser ini");
        if (!audioCtx) audioCtx = new AudioCtx();
        const now = audioCtx.currentTime;
        const notes = [523.25, 659.25, 783.99, 523.25]; // C5, E5, G5, C5 (short happy)
        notes.forEach((f, i) => {
          const osc = audioCtx.createOscillator();
          const gain = audioCtx.createGain();
          osc.type = "sine";
          osc.frequency.value = f;
          gain.gain.value = 0.0001;
          osc.connect(gain);
          gain.connect(audioCtx.destination);
          const t = now + i * 0.18;
          gain.gain.linearRampToValueAtTime(0.16, t + 0.01);
          gain.gain.exponentialRampToValueAtTime(0.001, t + 0.15);
          osc.start(t);
          osc.stop(t + 0.16);
        });
      }

      // Button interactions
      document.getElementById("partyBtn").addEventListener("click", () => {
        spawnConfetti(80);
        // pulse title
        const title = document.getElementById("title");
        title.animate(
          [
            { transform: "scale(1)", filter: "brightness(1)" },
            { transform: "scale(1.08)", filter: "brightness(1.3)" },
            { transform: "scale(1)", filter: "brightness(1)" },
          ],
          { duration: 700, iterations: 1 }
        );
      });

      document.getElementById("songBtn").addEventListener("click", () => {
        playMelody();
        // little emoji bounce
        const avatar = document.getElementById("avatar");
        avatar.animate(
          [
            { transform: "translateY(0)" },
            { transform: "translateY(-10px)" },
            { transform: "translateY(0)" },
          ],
          { duration: 500, iterations: 1 }
        );
      });

      // Accessibility: keyboard shortcut 'R' to celebrate, 'M' to play music
      window.addEventListener("keydown", (e) => {
        if (e.key.toLowerCase() === "r")
          document.getElementById("partyBtn").click();
        if (e.key.toLowerCase() === "m")
          document.getElementById("songBtn").click();
      });

      // Tiny confetti start after load for delight
      setTimeout(() => spawnConfetti(18), 600);
    </script>
  </body>
</html>
